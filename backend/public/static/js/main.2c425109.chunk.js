(this["webpackJsonpfood-ventures"]=this["webpackJsonpfood-ventures"]||[]).push([[0],{149:function(e,t,a){e.exports=a.p+"static/media/loading.d42bb2f0.gif"},250:function(e,t,a){e.exports=a(507)},284:function(e,t){},292:function(e,t,a){e.exports=a.p+"static/media/logo.183dc0c7.png"},505:function(e){e.exports=JSON.parse('[{"featureType":"all","elementType":"labels","stylers":[{"visibility":"on"}]},{"featureType":"all","elementType":"labels.text.fill","stylers":[{"saturation":36},{"color":"#000000"},{"lightness":40}]},{"featureType":"all","elementType":"labels.text.stroke","stylers":[{"visibility":"on"},{"color":"#000000"},{"lightness":16}]},{"featureType":"all","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"administrative","elementType":"geometry.fill","stylers":[{"color":"#000000"},{"lightness":20}]},{"featureType":"administrative","elementType":"geometry.stroke","stylers":[{"color":"#000000"},{"lightness":17},{"weight":1.2}]},{"featureType":"administrative.country","elementType":"labels.text.fill","stylers":[{"color":"#838383"}]},{"featureType":"administrative.locality","elementType":"labels.text.fill","stylers":[{"color":"#c4c4c4"}]},{"featureType":"administrative.neighborhood","elementType":"labels.text.fill","stylers":[{"color":"#aaaaaa"}]},{"featureType":"landscape","elementType":"geometry","stylers":[{"color":"#ffffff"},{"lightness":"0"}]},{"featureType":"poi","elementType":"geometry","stylers":[{"color":"#ffffff"},{"lightness":21},{"visibility":"on"}]},{"featureType":"poi","elementType":"labels","stylers":[{"visibility":"off"},{"hue":"#ff0000"}]},{"featureType":"poi","elementType":"labels.icon","stylers":[{"saturation":"-100"}]},{"featureType":"poi.business","elementType":"geometry","stylers":[{"visibility":"on"}]},{"featureType":"road.highway","elementType":"geometry.fill","stylers":[{"color":"#6e6e6e"},{"lightness":"0"}]},{"featureType":"road.highway","elementType":"geometry.stroke","stylers":[{"visibility":"off"}]},{"featureType":"road.arterial","elementType":"geometry","stylers":[{"color":"#000000"},{"lightness":18}]},{"featureType":"road.arterial","elementType":"geometry.fill","stylers":[{"color":"#575757"}]},{"featureType":"road.arterial","elementType":"labels.text.fill","stylers":[{"color":"#c3c3c3"}]},{"featureType":"road.arterial","elementType":"labels.text.stroke","stylers":[{"color":"#2c2c2c"}]},{"featureType":"road.local","elementType":"geometry","stylers":[{"color":"#000000"},{"lightness":16}]},{"featureType":"road.local","elementType":"labels.text.fill","stylers":[{"color":"#5f5f5f"},{"visibility":"on"}]},{"featureType":"road.local","elementType":"labels.text.stroke","stylers":[{"visibility":"off"}]},{"featureType":"transit","elementType":"geometry","stylers":[{"color":"#717171"},{"lightness":19}]},{"featureType":"water","elementType":"geometry","stylers":[{"color":"#000000"},{"lightness":17}]}]')},506:function(e,t,a){},507:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(13),i=a.n(s);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c,o=a(18),l=a(9),u=a(10),m=a(12),p=a(11),f=a(20),d=a(234),h=a.n(d),v={setup:function(){c=h()("/")},terminate:function(){c=null},on:function(e,t){c.on(e,t)},off:function(e,t){c.off(e,t)},emit:function(e,t){c.emit(e,t)}};var g=a(15);function E(e){var t=e.closeModal;return r.a.createElement("div",{className:"notification-modal-wrapper"},r.a.createElement("div",{className:"notification-modal-content"},r.a.createElement("h3",null,"You have a new reservation!"),r.a.createElement(f.b,{to:"/reservations",className:"link",onClick:t},"Go To Reservations"),r.a.createElement("button",{className:"close-notification-modal-btn",onClick:t},"Close")))}var y=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isTop:!0,isShow:!1,menu:!1},e.goHome=function(){e.props.history.push("/"),window.scrollTo(0,0)},e.toggleMenu=function(){document.body.classList.toggle("menu-open"),e.setState({menu:!e.state.menu})},e.closeModal=function(){e.setState({isShow:!1})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;v.setup(),v.on("show notification",(function(t){e.props.loggedInUser.chef&&e.props.loggedInUser._id===t.chefId&&e.setState({isShow:!0})})),document.addEventListener("scroll",(function(){var t=window.scrollY<100;t!==e.state.isTop&&e.setState({isTop:t})}))}},{key:"componentWillUnmount",value:function(){v.terminate()}},{key:"render",value:function(){return r.a.createElement("nav",{className:"nav-bar flex"+(this.state.isTop?" top":"")},this.state.isShow&&r.a.createElement(E,{closeModal:this.closeModal}),r.a.createElement("div",{className:"screen",onClick:this.toggleMenu}),r.a.createElement("img",{src:a(292),alt:"logo",onClick:this.goHome}),r.a.createElement("div",{className:"hamburger hamburger--spin ".concat(this.state.menu?"is-active":""),onClick:this.toggleMenu},r.a.createElement("div",{className:"hamburger-box"},r.a.createElement("div",{className:"hamburger-inner"}))),r.a.createElement("ul",{className:"flex"},r.a.createElement(f.c,{to:"/chef",onClick:this.toggleMenu},r.a.createElement("li",null,"CHEFS")),r.a.createElement("a",{href:"#locations",onClick:this.toggleMenu},"LOCATIONS"),r.a.createElement("a",{href:"#cuisines",onClick:this.toggleMenu},"CUISINES"),r.a.createElement(f.c,{to:"/reservations",onClick:this.toggleMenu},r.a.createElement("li",null,"MY RESERVATIONS")),r.a.createElement(f.c,{to:"/login",onClick:this.toggleMenu},r.a.createElement("li",null,"CONNECT"))))}}]),n}(n.Component),b=Object(o.f)(Object(g.b)((function(e){return{loggedInUser:e.userReducer.loggedInUser}}))(y)),w=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{className:"footer full flex-center"},r.a.createElement("small",null,"Copyright \xa9 2020 FoodVentures by ART, All rights reserved"))}}]),a}(n.Component),N=a(3),j=a.n(N),O=a(7),C=a(109),k=a.n(C),S=k.a.create({withCredentials:!0}),T=function(e,t){return U(e,"GET",t)},x=function(e,t){return U(e,"POST",t)},I=function(e,t){return U(e,"PUT",t)},R=function(e,t){return U(e,"DELETE",t)};function U(e){return _.apply(this,arguments)}function _(){return(_=Object(O.a)(j.a.mark((function e(t){var a,n,r,s=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:"get",n=s.length>2&&void 0!==s[2]?s[2]:null,e.prev=2,e.next=5,S({url:"".concat("/api/").concat(t),method:a,data:n});case 5:return r=e.sent,e.abrupt("return",r.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(a,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(n)),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&window.location.assign("/#/login"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var D={login:function(e){return A.apply(this,arguments)},logout:function(){return L.apply(this,arguments)},signup:function(e){return F.apply(this,arguments)},query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="?";for(var a in e)t+="".concat(a,"=").concat(e[a],"&");return T("user".concat(t||""))},getById:function(e){return T("user/".concat(e))},remove:function(e){return R("user/".concat(e))},save:function(e){return M.apply(this,arguments)},getLocations:function(){return B},getCuisines:function(){return V}};function M(){return(M=Object(O.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._id){e.next=4;break}return e.abrupt("return",I("user/".concat(t._id),t));case 4:return e.abrupt("return",x("user",t));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(O.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("auth/login",t);case 2:return a=e.sent,e.abrupt("return",P(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(O.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("auth/signup",t);case 2:return a=e.sent,e.abrupt("return",P(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(O.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return sessionStorage.setItem("user",JSON.stringify(e)),e}var B=[{_id:W(),name:"athens",imgUrl:"https://res.cloudinary.com/dnjejwpxf/image/upload/v1600432350/Locations/athens_jfkwqv.jpg"},{_id:W(),name:"dubai",imgUrl:"https://res.cloudinary.com/dnjejwpxf/image/upload/v1600706273/Locations/dubai_dmkeqf.jpg"},{_id:W(),name:"istanbul",imgUrl:"https://res.cloudinary.com/dnjejwpxf/image/upload/v1600432351/Locations/istanbul_pzjood.jpg"},{_id:W(),name:"tokyo",imgUrl:"https://res.cloudinary.com/dnjejwpxf/image/upload/v1600706273/Locations/tokyo_eyagrf.jpg"},{_id:W(),name:"moscow",imgUrl:"https://res.cloudinary.com/dnjejwpxf/image/upload/v1600432350/Locations/moscow_uncdlp.jpg"},{_id:W(),name:"paris",imgUrl:"https://res.cloudinary.com/dnjejwpxf/image/upload/v1600432350/Locations/paris_z6tjsf.jpg"},{_id:W(),name:"rome",imgUrl:"https://res.cloudinary.com/dnjejwpxf/image/upload/v1600432349/Locations/rome_lxvjp8.jpg"},{_id:W(),name:"tel-aviv",imgUrl:"https://res.cloudinary.com/dnjejwpxf/image/upload/v1600432350/Locations/telaviv_ki3znp.jpg"}],V=[{_id:W(),name:"BBQ",imgUrl:"https://res.cloudinary.com/dnjejwpxf/image/upload/v1601366035/Cuisine/bbq_cyr49x.jpg"},{_id:W(),name:"italian",imgUrl:"https://res.cloudinary.com/dnjejwpxf/image/upload/v1601366035/Cuisine/italian_csqj27.jpg"},{_id:W(),name:"fusion",imgUrl:"https://res.cloudinary.com/dnjejwpxf/image/upload/v1601366035/Cuisine/fusion_dc2w1c.jpg"},{_id:W(),name:"vegan",imgUrl:"https://res.cloudinary.com/dnjejwpxf/image/upload/v1601366036/Cuisine/vegan_usokqs.jpg"},{_id:W(),name:"indian",imgUrl:"https://res.cloudinary.com/dnjejwpxf/image/upload/v1601366035/Cuisine/indian_ywosfd.jpg"},{_id:W(),name:"asian",imgUrl:"https://res.cloudinary.com/dnjejwpxf/image/upload/v1601366035/Cuisine/asian_vlogsg.jpg"},{_id:W(),name:"mediterranean",imgUrl:"https://res.cloudinary.com/dnjejwpxf/image/upload/v1601366035/Cuisine/mediterranean_euxume.jpg"},{_id:W(),name:"russian",imgUrl:"https://res.cloudinary.com/dnjejwpxf/image/upload/v1601366036/Cuisine/russian_byjtej.png"}];function W(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=a.charAt(Math.floor(Math.random()*a.length));return t}function H(e){return function(t){t({type:"SET_FILTER",filter:e})}}function q(e){return function(){var t=Object(O.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.query(e);case 2:n=t.sent,a({type:"SET_USERS",users:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function z(e){return function(){var t=Object(O.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.login(e);case 2:n=t.sent,a({type:"SET_USER",user:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function G(e){var t=e.cuisine,a=e.getCuisine;return r.a.createElement("div",{className:"cuisine-card",onClick:function(){return a(t.name)}},r.a.createElement("h3",null,t.name),r.a.createElement("img",{className:"cuis-pic",src:"".concat(t.imgUrl),alt:""}))}var Y=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={cuisines:null},e.getCuisine=function(t){e.props.setFilter({cuisine:t}),e.props.history.push("/chef")},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState({cuisines:D.getCuisines()})}},{key:"render",value:function(){var e=this,t=this.state.cuisines;return t?r.a.createElement("div",{className:"cuisines card-grid"},t.map((function(t){return r.a.createElement(G,{key:t._id,cuisine:t,getCuisine:e.getCuisine})}))):r.a.createElement("div",null,"Loading...")}}]),a}(n.Component),Q={setFilter:H},J=Object(o.f)(Object(g.b)((function(e){return{}}),Q)(Y)),K=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"scrollDown",value:function(){var e=window.innerHeight;window.scrollBy(0,e)}},{key:"render",value:function(){return r.a.createElement("section",{className:"header full"},r.a.createElement("div",{className:"text"},r.a.createElement("h2",null,"Hire a Private Chef Across The WORLD"),r.a.createElement("h3",null,"With The Leading Private Chef Service")),r.a.createElement("div",{className:"arrow",onClick:this.scrollDown},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)))}}]),a}(n.Component);function X(e){var t=e.location,a=e.getLocation;return r.a.createElement("div",{className:"location-card",onClick:function(){return a(t.name)}},r.a.createElement("h3",null,t.name),r.a.createElement("img",{className:"loc-pic",src:"".concat(t.imgUrl),alt:""}))}var $=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={locations:null},e.getLocation=function(t){e.props.setFilter({location:t}),e.props.history.push("/chef")},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState({locations:D.getLocations()})}},{key:"render",value:function(){var e=this,t=this.state.locations;return t?r.a.createElement("div",{className:"locations card-grid"},t.map((function(t){return r.a.createElement(X,{key:t._id,location:t,getLocation:e.getLocation})}))):r.a.createElement("div",null,"Loading...")}}]),a}(n.Component),Z={setFilter:H},ee=Object(o.f)(Object(g.b)((function(e){return{}}),Z)($));function te(e){var t=e.text,a=t.slice(0,60);return r.a.createElement("div",{style:{padding:"0 10px",fontSize:"14px"}},t.length>60?a+"...":t)}var ae=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isFavorite:!1},e.addToFav=function(){e.setState({isFavorite:!e.state.isFavorite})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",{className:"user-preview card"},r.a.createElement(f.b,{to:"/details/".concat(e._id)},r.a.createElement("img",{className:"user-preview-food",src:"".concat(e.chef.imgs[0]),alt:""}),r.a.createElement("div",{className:"user-preview-details flex p10"},r.a.createElement("div",null,r.a.createElement("img",{className:"icon",src:"".concat(e.imgUrl),alt:""})),r.a.createElement("div",{className:"name"},r.a.createElement("h3",null,"Chef ",e.fullName),r.a.createElement("p",null,e.chef.rating>=4.5?"Highly rated":"Good offer"))),r.a.createElement(te,{text:e.chef.description}),r.a.createElement("div",{className:"user-preview-tags-container"},e.chef.tags.map((function(e,t){return r.a.createElement("p",{className:"user-preview-tag",key:t},e)}))),r.a.createElement("div",{className:"location-rating flex-between"},r.a.createElement("p",{className:"user-preview-location"},r.a.createElement("i",{className:"fas fa-map-pin"})," ",e.chef.location.name),r.a.createElement("p",{className:"user-preview-rating"},r.a.createElement("i",{className:"fas fa-star"})," ",e.chef.rating.toFixed(1)," ",r.a.createElement("span",null,"(",e.chef.ratingNum,")")))),r.a.createElement("div",{className:"bottom flex-between"},r.a.createElement("i",{className:"fav-heart fas fa-heart flex-center"+(this.state.isFavorite?" favorite":""),onClick:this.addToFav}),r.a.createElement("p",{className:"price"},"Starting from $",e.chef.price)))}}]),a}(n.Component);function ne(e){var t=e.users.filter((function(e){return e.chef}));return r.a.createElement("div",{className:"user-list card-grid"},t.map((function(e){return r.a.createElement(ae,{key:e._id,user:e})})))}function re(){return r.a.createElement("section",{className:"testimonials-one full"},r.a.createElement("div",{className:"container"},r.a.createElement("h3",{className:"one"},"One room, one table, one chef"),r.a.createElement("h3",{className:"two"},"Choose a chef and join the ultimate food experience"),r.a.createElement("h3",{className:"three"},"Cuisines from around the world")))}function se(){return r.a.createElement("section",{className:"testimonials-two full"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"one"},r.a.createElement("h3",null,"\u201cThis is a game changer\u201d"),r.a.createElement("p",{className:"stars"},r.a.createElement("i",{className:"fas fa-star"})," ",r.a.createElement("i",{className:"fas fa-star"})," ",r.a.createElement("i",{className:"fas fa-star"})," ",r.a.createElement("i",{className:"fas fa-star"})," ",r.a.createElement("i",{className:"fas fa-star"})),r.a.createElement("p",{className:"magazine"},"- Food & Wine magazine")),r.a.createElement("div",{className:"two"},r.a.createElement("h3",null,"\u201cInnovative and most grandiose\u201d"),r.a.createElement("p",{className:"stars"},r.a.createElement("i",{className:"fas fa-star"})," ",r.a.createElement("i",{className:"fas fa-star"})," ",r.a.createElement("i",{className:"fas fa-star"})," ",r.a.createElement("i",{className:"fas fa-star"})," ",r.a.createElement("i",{className:"fas fa-star"})),r.a.createElement("p",{className:"magazine"},"- Saveur magazine")),r.a.createElement("div",{className:"three"},r.a.createElement("h3",null,"\u201cMost anticipated of the year\u201d"),r.a.createElement("p",{className:"stars"},r.a.createElement("i",{className:"fas fa-star"})," ",r.a.createElement("i",{className:"fas fa-star"})," ",r.a.createElement("i",{className:"fas fa-star"})," ",r.a.createElement("i",{className:"fas fa-star"})," ",r.a.createElement("i",{className:"fas fa-star"})),r.a.createElement("p",{className:"magazine"},"- Fine Cooking magazine"))))}var ie=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).guestMode=function(){e.props.login({userName:"guest",password:"guest"})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.props.loadUsers(),this.props.loggedInUser||this.guestMode()}},{key:"getBestChefs",value:function(){return this.props.users.filter((function(e){return e.chef})).sort((function(e,t){return t.chef.rating<e.chef.rating?-1:t.chef.rating<e.chef.rating?1:0})).slice(0,4)}},{key:"render",value:function(){var e=this.getBestChefs();return e?r.a.createElement("div",{className:"app main-container app-container"},r.a.createElement(K,null),r.a.createElement("div",{className:"app-chef-sect"},r.a.createElement("div",{className:"flex-between",style:{paddingBottom:"10px"}},r.a.createElement("h3",null,"Our TOP Chefs"),r.a.createElement(f.b,{to:"/chef"},r.a.createElement("p",{className:"see-all-chefs"},"See All \xa0\xa0\xa0",r.a.createElement("i",{className:"arrow fas fa-arrow-right"})))),r.a.createElement(ne,{users:e})),r.a.createElement(re,null),r.a.createElement("div",{id:"locations",className:"app-locs-sect"},r.a.createElement("h3",null,"Our Locations"),r.a.createElement(ee,null)),r.a.createElement(se,null),r.a.createElement("div",{id:"cuisines",className:"app-cuis-sect"},r.a.createElement("h3",null,"Our Cuisines"),r.a.createElement(J,null))):r.a.createElement("div",null,"Loading...")}}]),a}(n.Component),ce={login:z,loadUsers:q},oe=Object(g.b)((function(e){return{loggedInUser:e.userReducer.loggedInUser,users:e.userReducer.users}}),ce)(ie);var le={on:function(e,t){var a=function(e){var a=e.detail;t(a)};return window.addEventListener(e,a),function(){window.removeEventListener(e,a)}},emit:function(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}},ue=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",{className:"carousel"},e.chef.imgs.map((function(e,t){return r.a.createElement("img",{className:"carousel-img",src:e,alt:"",key:t})})))}}]),a}(n.Component),me=a(241),pe=(a(310),{query:function(){return T("reservation")},getById:function(e){return T("reservation/".concat(e))},remove:function(e){return R("reservation/".concat(e))},save:function(e){return fe.apply(this,arguments)}});function fe(){return(fe=Object(O.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._id){e.next=4;break}return e.abrupt("return",I("reservation/".concat(t._id),t));case 4:return e.abrupt("return",x("reservation",t));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e){return function(){var t=Object(O.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e._id?"UPDATE_RESERVATION":"ADD_RESERVATION",t.next=3,pe.save(e);case 3:e=t.sent,a({type:n,reservation:e});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var he=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={date:new Date},e.onChange=function(t){e.setState({date:t}),e.props.setReservationDate(t)},e.disabledDates=e.getRandomDates(50),e}return Object(u.a)(a,[{key:"getRandomNum",value:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)}},{key:"getRandomDate",value:function(){var e=this.getDate(),t=+e[1],a=+e[0],n=+e[2],r=a+this.getRandomNum(-1,2);r>12&&(r-=12,n++);var s=t+this.getRandomNum(1,29);return s>30&&(s-=30,r++),new Date(n,r,s)}},{key:"getRandomDates",value:function(e){for(var t=[],a=0;a<e;a++)t.push(this.getRandomDate());return t}},{key:"formatDate",value:function(e){return new Intl.DateTimeFormat("en",{year:"numeric",month:"numeric",day:"numeric"}).format(e)}},{key:"getDate",value:function(){var e=Date.now();return this.formatDate(e).split("/")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"calendar-container"},r.a.createElement(me.a,{onChange:this.onChange,value:this.state.date,locale:"en-US",minDate:new Date,tileDisabled:function(t){var a=t.date;return"month"===t.view&&e.disabledDates.some((function(e){return a.getFullYear()===e.getFullYear()&&a.getMonth()===e.getMonth()&&a.getDate()===e.getDate()}))}}))}}]),a}(n.Component),ve={setReservationDate:function(e){var t=new Date(e).getTime();return function(){var e=Object(O.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"SET_RESERVATION_DATE",date:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},ge=Object(g.b)(null,ve)(he),Ee=a(85),ye=a(505);var be=Object(Ee.withScriptjs)(Object(Ee.withGoogleMap)((function(e){var t=e.coord,a=t.lat,n=t.lang;return r.a.createElement("div",null,r.a.createElement(Ee.GoogleMap,{defaultZoom:12,defaultCenter:{lat:n,lng:a},defaultOptions:{disableDefaultUI:!0,draggable:!0,keyboardShortcuts:!1,scaleControl:!0,scrollwheel:!1,styles:ye}},r.a.createElement(Ee.Marker,{position:{lat:n,lng:a}})))}))),we=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{width:"100%",height:"300px"}},r.a.createElement(be,{coord:this.props.coord,googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyC5vWPKvitqYwKhQkWQXGAEMQKIDw_tA6I",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"100%"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}))}}]),a}(n.Component);function Ne(e){var t=e.review,a=t.name.slice(0,1).toUpperCase();return r.a.createElement("div",{className:"user-review"},r.a.createElement("div",{className:"flex"},r.a.createElement("h2",{className:"user-tag"},a),r.a.createElement("div",{className:"flex"},r.a.createElement("h3",{className:"user-name"},t.name),r.a.createElement("p",{className:"user-rating"},r.a.createElement("i",{className:"fas fa-star"})," \xa0 ",t.rating))),r.a.createElement("p",{className:"user-text"},t.text))}function je(e){var t=e.reviews;return r.a.createElement("div",{className:"review-list"},t.map((function(e){return r.a.createElement(Ne,{key:e._id,review:e})})))}function Oe(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)}var Ce,ke=Oe(1,3),Se=(Ce=Oe(1500860645648,1600870745647),new Intl.DateTimeFormat("en",{year:"numeric",month:"short"}).format(Ce)),Te=["Food","Chef","Knife","Wine","Fork","Spoon","Pie"];function xe(){return r.a.createElement("div",{className:"highlights"},r.a.createElement("h3",null,r.a.createElement("i",{className:"fas fa-certificate"}),"\xa0\xa0\xa0\xa0 ",ke,"  ",1===ke?"Michelin Star":"Michelin Stars"),r.a.createElement("h3",null,r.a.createElement("i",{className:"fas fa-trophy"}),"\xa0\xa0\xa0\xa0 Awarded by ",Te[Oe(0,6)]," magazine"),r.a.createElement("h3",null,r.a.createElement("i",{className:"fas fa-percent"}),"\xa0\xa0\xa0\xa0 Discount for large groups"),r.a.createElement("h3",null,r.a.createElement("i",{className:"fas fa-shopping-basket"}),"\xa0\xa0\xa0\xa0 Providing ingredients"),r.a.createElement("h3",null,r.a.createElement("i",{className:"fas fa-check"}),"\xa0\xa0\xa0\xa0 Avg. response time ",Oe(2,6)," hours"),r.a.createElement("h3",null,r.a.createElement("i",{className:"fas fa-user"}),"\xa0\xa0\xa0\xa0 Member since ",Se))}var Ie=a(27),Re=a(5),Ue=a(543),_e=a(545),De=a(542),Me=a(546),Ae=a(242),Fe=a(8),Le=a(540),Pe=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={reservation:{by:"",from:"",status:"Pending",date:"",time:"",guestsCount:1,comments:"",totalPrice:e.props.chefPrice,createdAt:Date.now(),chefPrice:e.props.chefPrice,isChefNotified:!1}},e.onInputChange=function(t){var a;if("number"===t.target.type){var n=(a=+t.target.value)*e.state.reservation.chefPrice;e.setState({reservation:Object(Re.a)(Object(Re.a)({},e.state.reservation),{},Object(Ie.a)({totalPrice:n},t.target.name,a))})}else a=t.target.value,e.setState({reservation:Object(Re.a)(Object(Re.a)({},e.state.reservation),{},Object(Ie.a)({},t.target.name,a))})},e.onAddReservation=function(){var t=Object(O.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),e.state.reservation.isChefNotified||(e.setState({reservation:Object(Re.a)(Object(Re.a)({},e.state.reservation),{},{isChefNotified:!0})}),v.emit("new reservation",e.state.reservation)),setTimeout(Object(O.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.saveReservation(e.state.reservation);case 2:le.emit("closeModal"),e.props.history.push("/reservations");case 4:case"end":return t.stop()}}),t)}))),100);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.formatDate=function(e){return new Intl.DateTimeFormat("en",{year:"numeric",month:"short",day:"numeric"}).format(e)},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(O.a)(j.a.mark((function e(){var t,a,n,r,s,i,c,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.reservationId)){e.next=6;break}return e.next=4,pe.getById(t);case 4:a=e.sent,this.setState({reservation:a});case 6:return n=this.props.match.params.userId,e.next=9,D.getById(n);case 9:r=e.sent,s=r.fullName,this.setState({reservation:Object(Re.a)(Object(Re.a)({},this.state.reservation),{},{from:{userId:n,chefName:s}})}),i=this.props.loggedInUser,this.setState({reservation:Object(Re.a)(Object(Re.a)({},this.state.reservation),{},{by:{userId:i._id,fullName:i.fullName}})}),c=this.props.date||Date.now(),o=this.formatDate(c),this.setState({reservation:Object(Re.a)(Object(Re.a)({},this.state.reservation),{},{date:o})});case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.date||Date.now(),t=this.formatDate(e),a=Object(Ae.a)({palette:{primary:{main:"#1dbf73"},text:{primary:"#000000",secondary:"#b2b2b2"}},typography:{fontFamily:"montserrat"}}),n=Object(Fe.a)({root:{"& .MuiInputBase-root.Mui-disabled":{color:"rgba(0, 0, 0, 0.6)"}}})(Ue.a);return r.a.createElement("form",{className:"reservation-form",noValidate:!0,autoComplete:"off"},r.a.createElement("h3",null,"Reservation details"),r.a.createElement(Le.a,{theme:a},r.a.createElement("div",null,r.a.createElement(n,{id:"name-field",label:"Your Name",InputLabelProps:{shrink:!0},required:!0,type:"text",value:this.state.reservation.by.fullName,name:"by",disabled:!0,variant:"outlined",onChange:this.onInputChange})),r.a.createElement("div",null,r.a.createElement(Ue.a,{id:"guestsCount",required:!0,InputProps:{inputProps:{min:1,max:12}},name:"guestsCount",value:this.state.reservation.guestsCount,type:"number",label:"Number of guests",variant:"outlined",onChange:this.onInputChange})),r.a.createElement("div",null,r.a.createElement(n,{label:"Reservation Date",InputLabelProps:{shrink:!0},id:"outlined-basic",required:!0,type:"text",value:"".concat(t),variant:"outlined",disabled:!0})),r.a.createElement("div",null,r.a.createElement(Ue.a,{label:"Reservation Time",InputLabelProps:{shrink:!0},id:"datetime-local",required:!0,name:"time",value:this.state.reservation.time,type:"time",variant:"outlined",onChange:this.onInputChange})),r.a.createElement("div",{className:"select"},r.a.createElement(_e.a,{id:"placeLocation"},"Where To Dine ?"),r.a.createElement(De.a,{id:"placeLocation",required:!0,name:"placeLocation",label:"Where To Dine ?",onChange:this.onInputChange,MenuProps:{disableScrollLock:!0},placeholder:"aaa"},r.a.createElement(Me.a,{value:"Home"},this.state.reservation.by.fullName,"'s Place"),r.a.createElement(Me.a,{value:"Chef's-Place"},"Chef's Place"))),r.a.createElement("div",null,r.a.createElement(Ue.a,{"aria-label":"minimum height",name:"comments",value:this.state.reservation.comments,variant:"outlined",placeholder:"Comments",onChange:this.onInputChange,multiline:!0,rows:3}))),r.a.createElement("h2",null,"Total Price : $",this.state.reservation.totalPrice),r.a.createElement("button",{onClick:this.onAddReservation},"Save Reservation"),r.a.createElement(f.b,{to:"/chef"},r.a.createElement("button",{className:"back-btn"},"Go to chef list")))}}]),a}(r.a.Component),Be={saveReservation:de},Ve=Object(o.f)(Object(g.b)((function(e){return{date:e.reservationReducer.date,loggedInUser:e.userReducer.loggedInUser}}),Be)(Pe)),We=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isShown:!0},e.closeModal=function(){e.setState({isShown:!1}),le.emit("reserved"),le.emit("edited"),document.body.style.overflow="auto"},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;le.on("closeModal",(function(){e.setState({isShown:!1}),le.emit("edited"),document.body.style.overflow="auto"}))}},{key:"render",value:function(){var e=this.state.isShown;return r.a.createElement("div",{className:"modal-wrapper ".concat(e?"":"hide"),onClick:this.closeModal},r.a.createElement("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()}},r.a.createElement("span",{className:"close-modal-btn",onClick:this.closeModal},"\xd7"),r.a.createElement(Ve,{reservationId:this.props.reservationId,chefPrice:this.props.chefPrice})))}}]),a}(r.a.Component),He=a(108),qe=a(42),ze=a.n(qe),Ge=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={count:0,countTotal:n._generateRandomNumber(500,1e4),isClicked:!1},n._handleClick=n._handleClick.bind(Object(He.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=new ze.a.Burst({parent:"#clap",radius:{50:95},count:5,angle:30,children:{shape:"polygon",radius:{6:0},scale:1,stroke:"rgba(211,84,0 ,0.5)",strokeWidth:2,angle:210,delay:30,speed:.2,easing:ze.a.easing.bezier(.1,1,.3,1),duration:300}}),t=new ze.a.Burst({parent:"#clap",radius:{50:75},angle:25,duration:300,children:{shape:"circle",fill:"rgba(149,165,166 ,0.5)",delay:30,speed:.2,radius:{3:0},easing:ze.a.easing.bezier(.1,1,.3,1)}}),a=new ze.a.Html({el:"#clap--count",isShowStart:!1,isShowEnd:!0,y:{0:-30},opacity:{0:1},duration:300}).then({opacity:{1:0},y:-80,delay:150}),n=new ze.a.Html({el:"#clap--count-total",isShowStart:!1,isShowEnd:!0,opacity:{0:1},delay:450,duration:300,y:{0:-3}}),r=new ze.a.Html({el:"#clap",duration:300,scale:{1.3:1},easing:ze.a.easing.out});document.getElementById("clap").style.transform="scale(1, 1)",this._animationTimeline=new ze.a.Timeline,this._animationTimeline.add([a,n,r,t,e])}},{key:"_generateRandomNumber",value:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}},{key:"_handleClick",value:function(){this._animationTimeline.replay(),this.setState((function(e,t){return{count:Math.min(e.count+1,50),countTotal:e.countTotal+1,isClicked:!0}}))}},{key:"render",value:function(){var e=this.state;return function(e,t,a,n){return r.a.createElement("div",null,r.a.createElement("button",{id:"clap",className:"clap",onClick:n},r.a.createElement("span",null,r.a.createElement("svg",{id:"clap--icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"-549 338 100.1 125",className:"".concat(a&&"checked")},r.a.createElement("path",{d:"M-471.2 366.8c1.2 1.1 1.9 2.6 2.3 4.1.4-.3.8-.5 1.2-.7 1-1.9.7-4.3-1-5.9-2-1.9-5.2-1.9-7.2.1l-.2.2c1.8.1 3.6.9 4.9 2.2zm-28.8 14c.4.9.7 1.9.8 3.1l16.5-16.9c.6-.6 1.4-1.1 2.1-1.5 1-1.9.7-4.4-.9-6-2-1.9-5.2-1.9-7.2.1l-15.5 15.9c2.3 2.2 3.1 3 4.2 5.3zm-38.9 39.7c-.1-8.9 3.2-17.2 9.4-23.6l18.6-19c.7-2 .5-4.1-.1-5.3-.8-1.8-1.3-2.3-3.6-4.5l-20.9 21.4c-10.6 10.8-11.2 27.6-2.3 39.3-.6-2.6-1-5.4-1.1-8.3z"}),r.a.createElement("path",{d:"M-527.2 399.1l20.9-21.4c2.2 2.2 2.7 2.6 3.5 4.5.8 1.8 1 5.4-1.6 8l-11.8 12.2c-.5.5-.4 1.2 0 1.7.5.5 1.2.5 1.7 0l34-35c1.9-2 5.2-2.1 7.2-.1 2 1.9 2 5.2.1 7.2l-24.7 25.3c-.5.5-.4 1.2 0 1.7.5.5 1.2.5 1.7 0l28.5-29.3c2-2 5.2-2 7.1-.1 2 1.9 2 5.1.1 7.1l-28.5 29.3c-.5.5-.4 1.2 0 1.7.5.5 1.2.4 1.7 0l24.7-25.3c1.9-2 5.1-2.1 7.1-.1 2 1.9 2 5.2.1 7.2l-24.7 25.3c-.5.5-.4 1.2 0 1.7.5.5 1.2.5 1.7 0l14.6-15c2-2 5.2-2 7.2-.1 2 2 2.1 5.2.1 7.2l-27.6 28.4c-11.6 11.9-30.6 12.2-42.5.6-12-11.7-12.2-30.8-.6-42.7m18.1-48.4l-.7 4.9-2.2-4.4m7.6.9l-3.7 3.4 1.2-4.8m5.5 4.7l-4.8 1.6 3.1-3.9"}))),r.a.createElement("span",{id:"clap--count",className:"clap--count"},"+",e),r.a.createElement("span",{id:"clap--count-total",className:"clap--count-total"},t)))}(e.count,e.countTotal,e.isClicked,this._handleClick)}}]),a}(n.Component);var Ye=k.a.create({withCredentials:!0}),Qe={add:function(e){return Je.apply(this,arguments)},query:function(e){return Ke.apply(this,arguments)}};function Je(){return(Je=Object(O.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye.post("".concat("http://localhost:3030/api/review"),t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(){return(Ke=Object(O.a)(j.a.mark((function e(t){var a,n,r=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(r.length>1&&void 0!==r[1])||r[1],Object.keys(t).length&&(n=a?"?chefId=".concat(t):"?byUserId=".concat(t)),e.abrupt("return",T("review".concat(n||"")));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(e){var t=e.ratingChanged;return r.a.createElement("div",{className:"rating"},r.a.createElement("input",{id:"rating-5",type:"radio",name:"rating",value:"5"}),r.a.createElement("label",{htmlFor:"rating-5"},r.a.createElement("i",{className:"fas fa-star",onClick:function(){return t(5)}})),r.a.createElement("input",{id:"rating-4",type:"radio",name:"rating",value:"4"}),r.a.createElement("label",{htmlFor:"rating-4"},r.a.createElement("i",{className:"fas fa-star",onClick:function(){return t(4)}})),r.a.createElement("input",{id:"rating-3",type:"radio",name:"rating",value:"3"}),r.a.createElement("label",{htmlFor:"rating-3"},r.a.createElement("i",{className:"fas fa-star",onClick:function(){return t(3)}})),r.a.createElement("input",{id:"rating-2",type:"radio",name:"rating",value:"2"}),r.a.createElement("label",{htmlFor:"rating-2"},r.a.createElement("i",{className:"fas fa-star",onClick:function(){return t(2)}})),r.a.createElement("input",{id:"rating-1",type:"radio",name:"rating",value:"1"}),r.a.createElement("label",{htmlFor:"rating-1"},r.a.createElement("i",{className:"fas fa-star",onClick:function(){return t(1)}})))}var $e=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={reviewToEdit:{_id:"",txt:"",stars:5,chefId:e.props.chefId,userReviewName:""}},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState((function(t){var a;return{reviewToEdit:Object(Re.a)(Object(Re.a)({},t.reviewToEdit),{},(a={},Object(Ie.a)(a,n,r),Object(Ie.a)(a,"_id",e.makeId()),a))}}))},e.addReview=function(){var t=Object(O.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.props.addReview(e.state.reviewToEdit);case 3:e.setState({reviewToEdit:{_id:"",txt:"",stars:5,chefId:e.props.chefId,userReviewName:""}}),e.props.addedReview();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.ratingChanged=function(t){e.setState((function(e){return{reviewToEdit:Object(Re.a)(Object(Re.a)({},e.reviewToEdit),{},{stars:t})}}))},e}return Object(u.a)(a,[{key:"makeId",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=a.charAt(Math.floor(Math.random()*a.length));return t}},{key:"render",value:function(){var e=Object(Ae.a)({palette:{primary:{main:"#1dbf73"},text:{primary:"#000000",secondary:"#b2b2b2"}},typography:{fontFamily:"montserrat"}});return r.a.createElement("form",{className:"review-form flex-col",onSubmit:this.addReview},r.a.createElement(Le.a,{theme:e},r.a.createElement(Ue.a,{type:"text",name:"userReviewName",value:this.state.reviewToEdit.userReviewName,onChange:this.handleChange,placeholder:"Your Name",variant:"outlined",noValidate:!0,autoComplete:"off",required:!0}),r.a.createElement("div",{className:"add-review"},r.a.createElement(Ue.a,{"aria-label":"minimum height",name:"txt",value:this.state.reviewToEdit.txt,variant:"outlined",placeholder:"Add a review",onChange:this.handleChange,multiline:!0,rows:5,required:!0}))),r.a.createElement("div",{className:"stars"},r.a.createElement(Xe,{ratingChanged:this.ratingChanged})),r.a.createElement("button",null,"SUBMIT"))}}]),a}(n.Component),Ze={addReview:function(e){return function(){var t=Object(O.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Qe.add(e);case 2:n=t.sent,a({type:"ADD_REVIEW",updatedUser:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},et=Object(g.b)((function(e){return{reviews:e.reviewReducer.users}}),Ze)($e),tt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={msg:{from:e.props.user.userName,txt:"",isChef:"",sendTime:""},msgs:[],userTyping:""},e.elInput=r.a.createRef(),e.addMsg=function(t){e.setState({msgs:t})},e.sendMsg=function(t){t.preventDefault(),v.emit("chat newMsg",e.state.msg),e.setState({msg:{from:e.props.user.userName,txt:""}}),v.emit("notification")},e.msgHandleChange=function(t){clearTimeout(e.timeout),e.timeout=setTimeout((function(){return v.emit("reset typing","")}),500),v.emit("typing",e.props.user.userName);var a,n=t.target,r=n.name,s=n.value;e.props.user.chef?0!==Object.keys(e.props.user.chef).length&&(a=!0):a=!1,e.setState((function(t){var n;return{msg:Object(Re.a)(Object(Re.a)({},t.msg),{},(n={},Object(Ie.a)(n,r,s),Object(Ie.a)(n,"sendTime",e.time()),Object(Ie.a)(n,"isChef",a),n))}}))},e.addUserTyping=function(t){e.setState({userTyping:t})},e.resetUserTyping=function(t){e.setState({userTyping:t})},e.formatDate=function(e){return new Intl.DateTimeFormat("us",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1}).format(e)},e.time=function(){var t=Date.now();return e.getTime(t)},e.toggleChat=function(){le.emit("toggle-chat")},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;v.setup(),v.emit("chat topic",this.props.chef._id),v.on("chat addMsg",this.addMsg),v.on("user typing",this.addUserTyping),v.on("reset",this.resetUserTyping),v.emit("get msgs"),v.on("send msgs",(function(t){e.setState({msgs:t})})),this.addMsg(this.state.msgs),this.elInput.current.focus()}},{key:"componentWillUnmount",value:function(){v.terminate(),this.setState({userTyping:""})}},{key:"getTime",value:function(e){return new Intl.DateTimeFormat("us",{hour:"numeric",minute:"numeric",hour12:!1}).format(e)}},{key:"render",value:function(){var e=this.props.chef.fullName;return r.a.createElement("div",{className:"chat"},r.a.createElement("div",{className:"chat-container"},r.a.createElement("div",{className:"chat-header"},r.a.createElement("h3",null,this.props.user.chef?"Welcome":"Contact"," ",e),r.a.createElement("span",{className:"close-chat-btn",onClick:this.toggleChat},"\xd7")),r.a.createElement("div",{className:"msgs"},r.a.createElement("p",{className:"timestamp"},this.formatDate(Date.now())),this.state.msgs.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("p",{className:e.isChef?"chef":"user"},r.a.createElement("span",null,e.from)," : ",e.txt),r.a.createElement("p",{className:"time ".concat(e.isChef?"chef":"user")},e.sendTime))}))),r.a.createElement("div",{className:"chat-footer"},r.a.createElement("form",{onSubmit:this.sendMsg},r.a.createElement("input",{type:"text",value:this.state.msg.txt,onChange:this.msgHandleChange,name:"txt",autoComplete:"off",ref:this.elInput}),r.a.createElement("button",null,"Send"),this.state.userTyping&&r.a.createElement("p",{className:"typing"},this.state.userTyping," is typing")))))}}]),a}(n.Component),at=Object(g.b)((function(e){return{user:e.userReducer.loggedInUser}}))(tt),nt=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={user:null,chefId:"",isFavorite:!1,isShow:!1,isReserving:!1,addedReview:!1,isChatOpen:!1},e.openReserve=function(){e.setState({isReserving:!0}),document.body.style.overflow="hidden"},e.addToFav=function(){e.setState({isFavorite:!e.state.isFavorite})},e.addedReview=Object(O.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.getById(e.state.chefId);case 2:a=t.sent,e.setState({user:a});case 4:case"end":return t.stop()}}),t)}))),e.toggleChat=function(){e.setState({isChatOpen:!e.state.isChatOpen})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(O.a)(j.a.mark((function e(){var t,a,n=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.scrollTo(0,0),t=this.props.match.params.userId,this.setState({chefId:t}),e.next=5,D.getById(t);case 5:a=e.sent,this.setState({user:a}),le.on("reserved",(function(){n.setState({isReserving:!1})})),le.on("toggle-chat",(function(){n.setState({isChatOpen:!1})}));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.setState({isChatOpen:!1})}},{key:"getRandomIntInclusive",value:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)}},{key:"render",value:function(){var e=this.state.user;if(!e)return r.a.createElement("div",{className:"main-container"},r.a.createElement("img",{src:a(149),className:"loading",alt:""}));var t=this.state.isReserving;return r.a.createElement("div",{className:"user-details main-container"},t&&r.a.createElement(We,{chefPrice:e.chef.price}),r.a.createElement("section",{className:"chef-gal-details"},r.a.createElement("div",{className:"chef-details-min"},r.a.createElement("div",{className:"clap-clap"},r.a.createElement(Ge,null)),r.a.createElement("div",{className:"chef-details-min-container flex"},r.a.createElement("div",{className:"chef-main-icon"},r.a.createElement("img",{src:"".concat(e.imgUrl),alt:"",className:"icon-big"})),r.a.createElement("div",{className:"chef-all-details"},r.a.createElement("div",{className:"name-looking"},r.a.createElement("h3",null,"Chef ",e.fullName),r.a.createElement("div",{className:"people-looking"},this.getRandomIntInclusive(2,19)," people are also looking at this chef, don't miss your chance")),r.a.createElement("p",null,e.chef.rating>=4.5?"Highly rated":"Good offer"),r.a.createElement("p",{className:"chef-details-description"},e.chef.description),r.a.createElement("div",null,e.chef.tags.map((function(e,t){return r.a.createElement("p",{className:"chef-details-tag",key:t},e)}))),r.a.createElement("p",{className:"chef-details-location"},r.a.createElement("i",{className:"fas fa-map-pin"})," ",e.chef.location.name),r.a.createElement("p",{className:"chef-details-rating"},r.a.createElement("i",{className:"fas fa-star"})," ",e.chef.rating.toFixed(1)," ",r.a.createElement("span",null,"(",e.chef.ratingNum,")")),r.a.createElement("div",{className:"favorite-price flex-between"},r.a.createElement("i",{className:"fav-heart fas fa-heart flex-center"+(this.state.isFavorite?" favorite":""),onClick:this.addToFav}),r.a.createElement("p",null,"Starting from $",e.chef.price))))),r.a.createElement("div",{className:"calender-book"},r.a.createElement(ge,null),r.a.createElement("div",{className:"book-link"},r.a.createElement("button",{onClick:this.openReserve},"BOOK NOW")))),r.a.createElement("section",{className:"chef-details-cal"},r.a.createElement(ue,{user:e})),r.a.createElement("section",{className:"details"},r.a.createElement("div",{className:"details-about"},r.a.createElement("h3",{className:"details-about-chef"},"About ",e.fullName),r.a.createElement("p",null,e.chef.about)),r.a.createElement(xe,null)),r.a.createElement("div",{className:"user-details-map"},r.a.createElement(we,{coord:e.chef.location})),r.a.createElement("section",{className:"reviews"},r.a.createElement(je,{reviews:e.chef.reviews}),r.a.createElement(et,{chefId:e._id,addedReview:this.addedReview})),this.state.isChatOpen&&r.a.createElement(at,{chef:e}),!this.props.user.chef&&r.a.createElement("div",{className:"chat-btn-container"},r.a.createElement("button",{className:"chat-btn",onClick:this.toggleChat},r.a.createElement("i",{className:"far fa-comments"}))))}}]),n}(n.Component),rt=Object(g.b)((function(e){return{user:e.userReducer.loggedInUser,updatedUser:e.reviewReducer.updatedUser}}))(nt),st=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={fullName:"",sortBy:""},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(Ie.a)({},n,r),(function(){return e.props.onSetFilter(e.state)}))},e.sortByName=function(){e.setState({sortBy:"fullName"},(function(){return e.props.onSetFilter(e.state)}))},e.sortByPrice=function(){e.setState({sortBy:"price"},(function(){return e.props.onSetFilter(e.state)}))},e.sortByRating=function(){e.setState({sortBy:"rating"},(function(){return e.props.onSetFilter(e.state)}))},e}return Object(u.a)(a,[{key:"render",value:function(){var e=Object(Ae.a)({palette:{primary:{main:"#1dbf73"},text:{primary:"#000000",secondary:"#b2b2b2"}},typography:{fontFamily:"montserrat"}});return r.a.createElement("section",{className:"filter"},r.a.createElement(Le.a,{theme:e},r.a.createElement(Ue.a,{type:"text",name:"fullName",label:"Search chef by name",onChange:this.handleChange,noValidate:!0,autoComplete:"off"})),r.a.createElement("div",{className:"filter-sort"},"Sort by ",r.a.createElement("span",{onClick:this.sortByName},"Name")," | ",r.a.createElement("span",{onClick:this.sortByPrice},"Price")," | ",r.a.createElement("span",{onClick:this.sortByRating},"Rating")))}}]),a}(n.Component),it=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={filterBy:{},filter:""},e.onSetFilter=function(t){e.setState((function(e){return{filterBy:Object(Re.a)(Object(Re.a)({},e.filterBy),t)}}),(function(){return e.props.loadUsers(e.state.filterBy)}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.props.loadUsers()}},{key:"componentWillUnmount",value:function(){this.props.clearFilter()}},{key:"addRElevantWords",value:function(){if(this.props.filter.location){var e=this.props.filter.location.charAt(0).toUpperCase()+this.props.filter.location.slice(1);return"Tel-aviv"===e&&(e="Tel-Aviv"),"in ".concat(e)}if(this.props.filter.cuisine){var t=this.props.filter.cuisine.charAt(0).toUpperCase()+this.props.filter.cuisine.slice(1)+" food";return"BBQ food"===t&&(t="BBQ"),"that specilaze in ".concat(t)}return"WORLDWIDE"}},{key:"render",value:function(){var e=this,t=this.props.users.filter((function(e){return e.chef}));return this.props.filter.location?t=t.filter((function(t){return t.chef.location.name===e.props.filter.location})):this.props.filter.cuisine&&(t=t.filter((function(t){return t.chef.tags.includes(e.props.filter.cuisine)}))),t?r.a.createElement("div",{className:"chefs main-container"},r.a.createElement("h2",null,"Welcome ",this.props.loggedInUser.fullName,", below is a list of our chefs ",this.addRElevantWords()),r.a.createElement("div",{className:"flex-between"},r.a.createElement("div",null,r.a.createElement(st,{onSetFilter:this.onSetFilter})),r.a.createElement(f.b,{to:"/",className:"back-to-homepage"},"Home \xa0\xa0\xa0",r.a.createElement("i",{className:"arrow fas fa-arrow-right"}))),r.a.createElement(ne,{users:t})):r.a.createElement("div",{className:"main-container"},r.a.createElement("img",{src:a(149),className:"loading",alt:""}))}}]),n}(n.Component),ct={loadUsers:q,clearFilter:function(){return function(e){e({type:"CLEAR_FILTER"})}}},ot=Object(g.b)((function(e){return{users:e.userReducer.users,filter:e.userReducer.filter,loggedInUser:e.userReducer.loggedInUser}}),ct)(it),lt=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isEditing:!1,reservationId:"",isChatOpen:!1,isNotification:!1},e.toggleChat=function(){e.setState({isNotification:!1}),e.setState({isChatOpen:!e.state.isChatOpen})},e.addChatNotification=function(){e.state.isChatOpen||e.setState({isNotification:!0})},e.onDelete=function(t){e.props.removeReservation(t)},e.onAccept=function(){var t=Object(O.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pe.getById(a);case 2:(n=t.sent).status="Accepted",e.props.saveReservation(n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onDecline=function(){var t=Object(O.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pe.getById(a);case 2:(n=t.sent).status="Declined",e.props.saveReservation(n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.openEdit=function(t){e.setState({reservationId:t}),e.setState({isEditing:!0})},e.getReservationByUser=function(t){var a;return e.props.loggedInUser.chef?(a=t.filter((function(t){return t.from.userId===e.props.loggedInUser._id}))).reverse():(a=t.filter((function(t){return t.by.userId===e.props.loggedInUser._id}))).reverse(),a},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.loadReservations(),le.on("edited",(function(){e.setState({isEditing:!1})})),v.setup(),v.emit("chat topic",this.props.loggedInUser._id),v.on("msg sent",(function(){e.addChatNotification()}))}},{key:"componentWillUnmount",value:function(){le.emit("edited"),v.terminate(),this.setState({isNotification:!1}),this.setState({isChatOpen:!1})}},{key:"render",value:function(){var e=this,t=this.props.reservations,n=this.getReservationByUser(t);return n?void 0===n||0===n.length?r.a.createElement("div",{className:"no-res main-container"},r.a.createElement("h2",null,"There are no reservations yet"),r.a.createElement("h2",null,"When a reservation is made, you'll see it here")):r.a.createElement("div",{className:"reservations-list main-container"},r.a.createElement("h2",{className:"reservations-list-header"},"Welcome ",this.props.loggedInUser.fullName,", below is a list of your reservations"),r.a.createElement("div",{className:"reservations"},n.map((function(t){return r.a.createElement("div",{className:"reservation-card",key:t._id},r.a.createElement("h3",null,"Name Of The Customer : ",t.by.fullName),r.a.createElement("p",null,"Number of guests : ",t.guestsCount),r.a.createElement("p",null,"Meal Location : ",t.placeLocation),r.a.createElement("p",null,"Date : ",t.date),r.a.createElement("p",null,"Time : ",t.time),!e.props.loggedInUser.chef&&r.a.createElement("p",null,"Chef Name : ",t.from.chefName),r.a.createElement("p",null,"Comments : ",t.comments),r.a.createElement("p",null,"Status : ",t.status),r.a.createElement("p",null,"Total Price : $",t.totalPrice),e.props.loggedInUser.chef&&r.a.createElement("button",{className:"accept",onClick:function(){e.onAccept(t._id)}},"ACCEPT"),e.props.loggedInUser.chef&&r.a.createElement("button",{className:"decline",onClick:function(){e.onDecline(t._id)}},"DECLINE"),r.a.createElement("button",{className:"edit",onClick:function(){e.openEdit(t._id)}},"EDIT"),!e.props.loggedInUser.chef&&r.a.createElement("button",{className:"delete",onClick:function(){e.onDelete(t._id)}},"CANCEL"))}))),this.state.isEditing&&r.a.createElement(We,{reservationId:this.state.reservationId}),this.state.isChatOpen&&r.a.createElement(at,{toggleNotification:this.toggleNotification,chef:this.props.loggedInUser}),this.props.loggedInUser.chef&&r.a.createElement("div",{className:"chat-btn-container"},r.a.createElement("button",{className:"chat-btn ".concat(this.state.isNotification?"notification":""),onClick:this.toggleChat},r.a.createElement("i",{className:"far fa-comments"})))):r.a.createElement("div",{className:"main-container"},r.a.createElement("img",{src:a(149),className:"loading",alt:""}))}}]),n}(n.Component),ut={loadReservations:function(e,t){return function(){var a=Object(O.a)(j.a.mark((function a(n){var r;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,pe.query(e,t);case 2:r=a.sent,n({type:"SET_RESERVATIONS",reservations:r});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},removeReservation:function(e){return function(){var t=Object(O.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pe.remove(e);case 2:a({type:"REMOVE_RESERVATION",reservationId:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveReservation:de},mt=Object(g.b)((function(e){return{reservations:e.reservationReducer.reservations,loggedInUser:e.userReducer.loggedInUser}}),ut)(lt),pt={uploadImg:function(e){return ft.apply(this,arguments)}};function ft(){return(ft=Object(O.a)(j.a.mark((function e(t){var a,n,r,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"dnjejwpxf",a="https://api.cloudinary.com/v1_1/".concat("dnjejwpxf","/image/upload"),(n=new FormData).append("file",t.target.files[0]),n.append("upload_preset","kgnk2sdg"),e.prev=5,e.next=8,fetch(a,{method:"POST",body:n});case 8:return r=e.sent,e.next=11,r.json();case 11:return s=e.sent,e.abrupt("return",s);case 15:e.prev=15,e.t0=e.catch(5),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}var dt=a(541),ht=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={msg:"",loginCred:{userName:"",password:""},signupCred:{fullName:"",userName:"",password:"",joinedAt:Date.now(),imgUrl:""},signAsChef:!1},e.onUploadImg=function(){var t=Object(O.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pt.uploadImg(a);case 2:n=t.sent,e.state.signupCred.imgUrl=n.url,e.setState({signupCred:e.state.signupCred});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.loginHandleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState((function(e){return{loginCred:Object(Re.a)(Object(Re.a)({},e.loginCred),{},Object(Ie.a)({},n,r))}}))},e.doLogin=function(){var t=Object(O.a)(j.a.mark((function t(a){var n,r,s,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state.loginCred,r=n.userName,s=n.password,r&&s){t.next=4;break}return t.abrupt("return",e.setState({msg:"Please enter User Name / Password"}));case 4:i={userName:r,password:s},e.props.login(i),e.setState({loginCred:{userName:"",password:""}});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.signupHandleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState((function(e){return{signupCred:Object(Re.a)(Object(Re.a)({},e.signupCred),{},Object(Ie.a)({},n,r))}}))},e.doSignup=function(t){t.preventDefault();var a=e.state.signupCred,n=a.fullName,r=a.userName,s=a.password;if(!n||!s||!r)return e.setState({msg:"All inputs are required!"});var i=e.state.signupCred;e.props.signup(i),e.setState({signupCred:Object(Re.a)(Object(Re.a)({},e.state.signupCred),{},{fullName:"",password:"",userName:""})})},e.isChefHandleChange=function(){if(e.setState({signAsChef:!e.state.signAsChef}),e.state.signAsChef){var t=e.state.signupCred;delete t.chef,e.setState({signupCred:t})}else{var a=e.state.signupCred;a.chef={description:"",about:"",tags:[],imgs:[],location:{name:"",lang:0,lat:0},price:0,rating:0,ratingNum:0,reviews:[]},e.setState({signupCred:a})}},e}return Object(u.a)(a,[{key:"render",value:function(){var e=Object(Ae.a)({palette:{primary:{main:"#1dbf73"},text:{primary:"#000000",secondary:"#b2b2b2"}},typography:{fontFamily:"montserrat"}}),t=r.a.createElement("form",{onSubmit:this.doSignup},r.a.createElement("div",{className:"sign flex-col"},r.a.createElement(Le.a,{theme:e},r.a.createElement(Ue.a,{type:"text",name:"fullName",onChange:this.signupHandleChange,placeholder:"Full Name",value:this.state.signupCred.fullName,variant:"outlined",noValidate:!0,autoComplete:"off"}),r.a.createElement(Ue.a,{type:"text",name:"userName",onChange:this.signupHandleChange,placeholder:"User Name",value:this.state.signupCred.userName,variant:"outlined",noValidate:!0,autoComplete:"off"}),r.a.createElement(Ue.a,{type:"password",name:"password",onChange:this.signupHandleChange,placeholder:"User Password",value:this.state.signupCred.password,variant:"outlined",noValidate:!0,autoComplete:"off"}),r.a.createElement(dt.a,{variant:"contained",component:"label"},"Upload Profile Picture",r.a.createElement(Ue.a,{type:"file",style:{display:"none"},onChange:this.onUploadImg})))),r.a.createElement("button",{className:"signup-btn"},"Signup")),a=r.a.createElement("form",{onSubmit:this.doLogin},r.a.createElement("div",{className:"log flex-col"},r.a.createElement(Le.a,{theme:e},r.a.createElement(Ue.a,{type:"text",name:"userName",onChange:this.loginHandleChange,placeholder:"User Name",value:this.state.loginCred.fullName,variant:"outlined",noValidate:!0,autoComplete:"off"}),r.a.createElement(Ue.a,{type:"password",name:"password",onChange:this.loginHandleChange,placeholder:"Password",value:this.state.loginCred.password,variant:"outlined",noValidate:!0,autoComplete:"off"})),r.a.createElement("button",null,"Login"))),n=this.props.loggedInUser;return r.a.createElement("div",{className:"login main-container"},r.a.createElement("div",{className:"login-container"},r.a.createElement("h3",null,"We are pleased to welcome you on FoodVentures"),r.a.createElement("h2",null,this.state.msg),n&&r.a.createElement("div",{className:"logout"},r.a.createElement("h2",null,"Hello ",n.userName),r.a.createElement("button",{onClick:this.props.logout},"Logout")),!n&&a,!n&&t))}}]),a}(n.Component),vt={login:z,logout:function(){return function(){var e=Object(O.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.logout();case 2:t({type:"SET_USER",user:null});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},signup:function(e){return function(){var t=Object(O.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.signup(e);case 2:n=t.sent,a({type:"SET_USER",user:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},removeUser:function(e){return function(){var t=Object(O.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.remove(e);case 2:a({type:"REMOVE_USER",userId:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},loadUsers:q},gt=Object(g.b)((function(e){return{users:e.userReducer.users,loggedInUser:e.userReducer.loggedInUser}}),vt)(ht);var Et=function(){return r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(b,null),r.a.createElement(o.c,null,r.a.createElement(o.a,{component:mt,path:"/reservations"}),r.a.createElement(o.a,{component:rt,path:"/details/:userId"}),r.a.createElement(o.a,{component:ot,path:"/chef"}),r.a.createElement(o.a,{component:gt,path:"/login"}),r.a.createElement(o.a,{component:oe,path:"/"})),r.a.createElement(w,null))},yt=(a(506),a(51)),bt=a(240),wt=a(77),Nt=null;sessionStorage.user&&(Nt=JSON.parse(sessionStorage.user));var jt={loggedInUser:Nt,users:[],filter:""};var Ot={reservations:[],date:null};var Ct={updatedUser:null,selectedReview:null};var kt=Object(yt.c)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USERS":return Object(Re.a)(Object(Re.a)({},e),{},{users:t.users});case"SET_USER":return Object(Re.a)(Object(Re.a)({},e),{},{loggedInUser:t.user});case"REMOVE_USER":return Object(Re.a)(Object(Re.a)({},e),{},{users:e.users.filter((function(e){return e._id!==t.userId}))});case"UPDATE_USER":var a=e.users.findIndex((function(e){return e._id===t.user._id})),n=Object(wt.a)(e.users);return n[a]=t.user,Object(Re.a)(Object(Re.a)({},e),{},{users:n});case"ADD_USER":return Object(Re.a)({users:[].concat(Object(wt.a)(e.users),[t.user])},e);case"SET_FILTER":return Object(Re.a)(Object(Re.a)({},e),{},{filter:t.filter});case"CLEAR_FILTER":return Object(Re.a)(Object(Re.a)({},e),{},{filter:""});default:return e}},reservationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_RESERVATIONS":return Object(Re.a)(Object(Re.a)({},e),{},{reservations:t.reservations});case"REMOVE_RESERVATION":return Object(Re.a)(Object(Re.a)({},e),{},{reservations:e.reservations.filter((function(e){return e._id!==t.reservationId}))});case"UPDATE_RESERVATION":var a=e.reservations.findIndex((function(e){return e._id===t.reservation._id})),n=Object(wt.a)(e.reservations);return n[a]=t.reservation,Object(Re.a)(Object(Re.a)({},e),{},{reservations:n});case"ADD_RESERVATION":return Object(Re.a)({reservations:[].concat(Object(wt.a)(e.reservations),[t.reservation])},e);case"SET_RESERVATION_DATE":return Object(Re.a)(Object(Re.a)({},e),{},{date:t.date});case"ACCEPT_RESERVATION":return e.reservations.find(t.reservation._id),Object(Re.a)({},e);default:return e}},reviewReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_REVIEWS":return Object(Re.a)(Object(Re.a)({},e),{},{reviews:t.updatedUser});case"ADD_REVIEW":return Object(Re.a)(Object(Re.a)({},e),{},{updatedUser:t.updatedUser});default:return e}}}),St=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||yt.d,Tt=Object(yt.e)(kt,St(Object(yt.a)(bt.a)));i.a.render(r.a.createElement(g.a,{store:Tt},r.a.createElement(f.a,null,r.a.createElement(Et,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[250,1,2]]]);
//# sourceMappingURL=main.2c425109.chunk.js.map